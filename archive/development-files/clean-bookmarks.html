<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Bookmarks Preview</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .stats {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .bookmarks-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 16px;
            background: rgba(255,255,255,0.95);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .bookmark-card {
            background: #fff;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border: 1px solid #e5e7eb;
        }
        
        .bookmark-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
        }
        
        .bookmark-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .bookmark-icon {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }
        
        .bookmark-title {
            font-weight: 600;
            color: #1e293b;
            text-decoration: none;
            font-size: 14px;
            flex: 1;
        }
        
        .bookmark-title:hover {
            color: #4f46e5;
        }
        
        .bookmark-url {
            font-size: 12px;
            color: #6b7280;
            word-break: break-all;
            margin-top: 4px;
        }
        
        .bookmark-cluster {
            display: inline-block;
            background: #f1f5f9;
            color: #475569;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 10px;
            margin-top: 8px;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #6b7280;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸ“š Interactive Bookmarks</h1>
            <p>Your bookmarks organized by programming languages and topics</p>
        </div>
        
        <div class="stats" id="stats">
            <div class="loading">Loading bookmarks...</div>
        </div>
        
        <div class="bookmarks-grid" id="bookmarks-grid">
            <div class="loading">Loading bookmarks...</div>
        </div>
    </div>

    <script>
        let bookmarksData = null;
        
        // Load bookmarks data
        async function loadBookmarksData() {
            try {
                const response = await fetch('bookmarks_data.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                bookmarksData = await response.json();
                return true;
            } catch (error) {
                console.error('Error loading bookmarks:', error);
                return false;
            }
        }
        
        // Get icon for cluster
        function getClusterIcon(cluster) {
            const icons = {
                'JavaScript': 'ðŸŸ¨',
                'Python': 'ðŸ',
                'Java/Kotlin': 'â˜•',
                'Rust': 'ðŸ¦€',
                'Go': 'ðŸ¹',
                'C++': 'âš¡',
                'C#/.NET': 'ðŸ”·',
                'PHP': 'ðŸ˜',
                'Ruby': 'ðŸ’Ž',
                'Swift/iOS': 'ðŸŽ',
                'Web Design': 'ðŸŽ¨',
                'APIs': 'ðŸ”Œ',
                'Containers': 'ðŸ“¦',
                'Cloud': 'â˜ï¸',
                'DevOps': 'âš™ï¸',
                'Databases': 'ðŸ—„ï¸',
                'AI/ML': 'ðŸ¤–',
                'Dev Tools': 'ðŸ”§',
                'Testing': 'ðŸ§ª',
                'Work Tools': 'ðŸ’¼',
                'Project Management': 'ðŸ“Š',
                'Documentation': 'ðŸ“–',
                'Learning': 'ðŸŽ“',
                'BuildingMinds': 'ðŸ¢',
                'HR/Admin': 'ðŸ‘¥',
                'Microsoft': 'ðŸªŸ',
                'Entertainment': 'ðŸŽ­',
                'Other': 'ðŸ“Œ'
            };
            return icons[cluster] || 'ðŸ“Œ';
        }
        
        // Truncate text
        function truncateText(text, maxLength) {
            return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;
        }
        
        // Render stats
        function renderStats() {
            const stats = document.getElementById('stats');
            stats.innerHTML = `
                <h2 style="margin: 0 0 10px 0; color: #1e293b;">ðŸ“Š Bookmark Statistics</h2>
                <p style="margin: 0; font-size: 18px; color: #374151;">
                    <strong>${bookmarksData.total_bookmarks}</strong> bookmarks organized into 
                    <strong>${bookmarksData.total_clusters}</strong> categories
                </p>
            `;
        }
        
        // Render bookmarks
        function renderBookmarks() {
            const grid = document.getElementById('bookmarks-grid');
            
            if (!bookmarksData || !bookmarksData.all_bookmarks) {
                grid.innerHTML = '<div class="loading">No bookmarks found</div>';
                return;
            }
            
            grid.innerHTML = '';
            
            bookmarksData.all_bookmarks.slice(0, 50).forEach(bookmark => { // Show first 50 for demo
                const card = document.createElement('div');
                card.className = 'bookmark-card';
                
                const icon = getClusterIcon(bookmark.cluster);
                
                card.innerHTML = `
                    <div class="bookmark-header">
                        <div class="bookmark-icon">${icon}</div>
                        <a href="${bookmark.url}" target="_blank" class="bookmark-title" title="${bookmark.title}">
                            ${truncateText(bookmark.title, 40)}
                        </a>
                    </div>
                    <div class="bookmark-url" title="${bookmark.url}">${bookmark.domain}</div>
                    <div class="bookmark-cluster">${bookmark.cluster}</div>
                `;
                
                grid.appendChild(card);
            });
        }
        
        // Initialize the application
        async function init() {
            console.log('Loading bookmarks...');
            const loaded = await loadBookmarksData();
            
            if (loaded) {
                console.log('Bookmarks loaded successfully');
                renderStats();
                renderBookmarks();
            } else {
                document.getElementById('stats').innerHTML = '<div class="loading" style="color: #ef4444;">Failed to load bookmarks</div>';
                document.getElementById('bookmarks-grid').innerHTML = '<div class="loading" style="color: #ef4444;">Failed to load bookmarks</div>';
            }
        }
        
        // Start the app
        init();
    </script>
</body>
</html>